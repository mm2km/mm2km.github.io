<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="SpaceVista: All-Scale Visual Spatial Reasoning from mm to km.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SpaceVista – Scenes Data Preview</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <style>
    .publication-title {
      max-width: 1000px;
      width: 100%;
      margin: 0 auto;
      text-align: center;
      transform: translateX(-60px);
    }

    .spacevista-title {
      font-family: "Source Serif 4", Georgia, "Times New Roman", serif;
      font-weight: 600;
      font-size: 1.2em;
      display: inline-flex;
      align-items: center;
      margin-left: 1px;
      font-optical-sizing: auto;
    }

    .logo-svg {
      height: 64px;
      width: auto;
      margin-right: 5px;
      vertical-align: middle;
    }

    .normal-title-wrapper {
      display: inline-block;
      width: 560px;
      position: relative;
      text-align: center;
    }

    .normal-title {
      white-space: nowrap;
      font-size: 0.7em !important;
    }

    .unit-mmkm {
      font-weight: bold;
      font-family: 'STIX Two Text', 'Latin Modern Roman', 'Cambria Math', 'Libertinus Serif', serif;
      font-size: 1.0em;
    }

    .fancy-line {
      width: 900px;
      max-width: 92%;
      height: 1px;
      background: linear-gradient(to right, transparent, #1a202c 50%, transparent);
      margin: 16px auto 18px;
      border-radius: 1px;
    }

    .avqa-title {
      font-family: 'Montserrat', 'Arial', sans-serif;
      font-weight: 900;
      font-size: 1.8rem;
      letter-spacing: -0.5px;
      color: #222222;
      margin-bottom: 14px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      text-align: center;
    }

    .table-note {
      text-align: center;
      margin: 0 auto 20px;
      max-width: 720px;
      font-size: 0.9rem;
      color: #555;
    }

    .scene-switcher .button.self-collected {
      position: relative;
    }

    .scene-switcher .button.self-collected::after {
      content: "We use standard ISO 7046 to denote the models of the screw, which looks like “m4*10”";
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      background: #363636;
      color: #fff;
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 6px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s, transform 0.2s;
      z-index: 10;
    }

    .scene-switcher .button.self-collected::before {
      content: "";
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 5px solid transparent;
      border-top-color: #363636;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 10;
    }

    .scene-switcher .button.self-collected:hover::after,
    .scene-switcher .button.self-collected:hover::before {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .scene-container {
      width: 880px;
      max-width: 100%;
      margin: 0 auto;
    }

    .scene-switcher {
      display: flex;
      width: 100%;
      border-radius: 8px 8px 0 0;
      overflow: visible;
      background: #f0f0f0;
    }

    .scene-switcher .button {
      position: relative;
      flex: 1;
      font-weight: 600;
      border-radius: 0;
      border: none;
      box-shadow: none;
      margin: 0;
      padding: 10px 0;
      font-size: 14px;
      color: #555;
      background: #f0f0f0;
      transition: all 0.25s ease;
      cursor: pointer;
    }

    .scene-switcher .button:hover {
      background: #e0e0e0;
      color: #000;
    }

    .scene-switcher .button.is-active {
      background: #363636;
      color: #fff;
      font-weight: 700;
    }

    .scene-frame {
      width: 100%;
      height: 320px;
      padding: 8px;
      border: 1.5px solid #bbb;
      border-radius: 10px;
      background: #fafafa;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      overflow: hidden;
    }

    .scene-frame img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .scene-switcher .button:not(.is-active)::after {
      content: "Click to switch examples";
      position: absolute;
      left: 50%;
      top: calc(100% + 8px);
      transform: translateX(-50%) translateY(4px);
      background: #363636;
      color: #fff;
      font-size: 8px;
      line-height: 1;
      padding: 4px 6px;
      border-radius: 6px;
      white-space: nowrap;
      pointer-events: none;
      opacity: 0;
      transition: opacity .18s ease, transform .18s ease;
      z-index: 2;
    }

    .scene-switcher .button:not(.is-active)::before {
      content: "";
      position: absolute;
      left: 50%;
      top: 100%;
      transform: translateX(-50%);
      border: 5px solid transparent;
      border-top-color: #363636;
      opacity: 0;
      transition: opacity .18s ease;
      z-index: 2;
    }

    .scene-switcher .button:not(.is-active):hover::after,
    .scene-switcher .button:not(.is-active):hover::before {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .scene-row {
      width: 1000px;
      max-width: 100%;
      margin: 0 auto 32px;
      display: flex;
      gap: 20px;
      align-items: flex-start;
      justify-content: center;
    }

    .scene-row .scene-container {
      margin: 0;
      flex: 1 1 0;
      width: auto;
    }

    .scene-content {
      display: flex;
      gap: 16px;
      align-items: stretch;
      margin-top: 14px;
    }

    .scene-content .scene-frame {
      flex: 1;
    }

    .scene-content .qa-card {
      flex: 1;
    }

    @media (max-width: 1100px) {
      .scene-row {
        flex-direction: column;
      }
      .scene-content {
        flex-direction: column;
      }
      .scene-content .scene-frame {
        height: 280px;
      }
    }

    .qa-card {
      height: 320px;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 14px 16px;
      background-color: #fafafa;
      font-size: 0.9rem;
      color: #333;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      box-sizing: border-box;
      text-align: left;
    }

    .qa-question-block {
      padding: 8px 10px;
      border-radius: 10px;
      background: #f0f0f0;
    }

    .qa-label {
      font-size: 0.78rem;
      font-weight: 600;
      color: #555;
      margin-bottom: 3px;
      text-transform: capitalize;
    }

    .qa-text {
      color: #222;
    }

    .qa-toggle-row {
      margin-top: 12px;
    }

    .qa-toggle-btn {
      background: #007bff;
      color: #fff;
      padding: 6px 14px;
      font-size: 0.9rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .qa-toggle-btn:hover {
      background: #0056b3;
    }

    .qa-answer-block {
      margin-top: 12px;
      padding: 8px 10px;
      border-radius: 10px;
      background: #e4ebff;
      display: none;     /* 默认完全隐藏 */
    }
  </style>
</head>

<body>
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">
              <img src="./static/images/logo_v2.png" alt="Logo" class="logo-svg">
              <span class="spacevista-title">SpaceVista</span><br>
              <span class="normal-title-wrapper">
                <span class="normal-title">
                  All-Scale Visual Spatial Reasoning from
                  <span class="unit-mmkm">mm</span> to
                  <span class="unit-mmkm">km</span>
                </span>
              </span>
            </h1>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="fancy-line"></div>

  <section class="section" style="margin-bottom: -1rem;">
    <div class="is-centered has-text-centered">

      <div class="scene-row">
        <div class="scene-container scene-gallery">
          <div class="avqa-title">Examples of abnormal object size</div>
          <div class="table-note">
            We obtained some images of objects with abnormal size from the Guinness World Records official website.<br>
            <img src="./static/images/click.png" alt="click logo" class="scene-logo" style="width: 16px; height: 16px; vertical-align: middle; display: inline-block;">
            Click the <strong>object name</strong> to switch the example.
          </div>

          <div class="scene-switcher">
            <button
              type="button"
              class="button is-active"
              data-src="./static/abnormal_size/1.jpg"
              data-question="What is the length of this rifle?"
              data-answer="10.18m"
            >
              Refle
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/2.jpg"
              data-question="How tall is this telephone?"
              data-answer="2.47m"
            >
              Telephone
            </button>

            <button
              type="button"
              class="button self-collected"
              data-src="./static/abnormal_size/4.jpg"
              data-question="What is the length of this hiking boot?"
              data-answer="7.14m"
            >
              Hiking Boot
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/11.jpg"
              data-question="How long is this bicycle?"
              data-answer="55.16m"
            >
              Bicycle
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/20.jpg"
              data-question="How high is the saxophone?"
              data-answer="2.74m"
            >
              Saxophone
            </button>
          </div>

          <div class="scene-content">
            <div class="scene-frame">
              <img data-role="scene" src="" alt="Scene Preview" loading="eager" fetchpriority="high" decoding="async">
            </div>

            <div class="qa-card">
              <div class="qa-question-block">
                <div class="qa-label">Question</div>
                <div class="qa-text" data-role="qa-question"></div>
              </div>

              <div class="qa-toggle-row">
                <button type="button" class="qa-toggle-btn">Show answer</button>
              </div>

              <div class="qa-answer-block" data-role="qa-answer-block">
                <div class="qa-label">Answer</div>
                <div class="qa-text" data-role="qa-answer"></div>
              </div>
            </div>

          </div>

        </div>
      </div>


      <div class="scene-row">
        <div class="scene-container scene-gallery">
          <div class="scene-switcher">
            <button
              type="button"
              class="button is-active"
              data-src="./static/abnormal_size/24.jpg"
              data-question="How tall is this Ping Pong Racket?"
              data-answer="3.53m"
            >
              Ping Pong Racket
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/27.jpg"
              data-question="How long is this gavel?"
              data-answer="5.09m"
            >
              Gavel
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/28.jpg"
              data-question="How tall is this Xbox console?"
              data-answer="2.08m"
            >
              Xbox Console
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/31.jpg"
              data-question="How wide is this belt buckle?"
              data-answer="4.43m"
            >
              Belt Buckle
            </button>

            <button
              type="button"
              class="button"
              data-src="./static/abnormal_size/33.jpg"
              data-question="How long is this ukulele?"
              data-answer="3.99m"
            >
              Ukulele
            </button>
          </div>

          <div class="scene-content">
            <div class="scene-frame">
              <img data-role="scene" src="" alt="Scene Preview" loading="eager" fetchpriority="high" decoding="async">
            </div>

            <div class="qa-card">
              <div class="qa-question-block">
                <div class="qa-label">Question</div>
                <div class="qa-text" data-role="qa-question"></div>
              </div>

              <div class="qa-toggle-row">
                <button type="button" class="qa-toggle-btn">Show answer</button>
              </div>

              <div class="qa-answer-block" data-role="qa-answer-block">
                <div class="qa-label">Answer</div>
                <div class="qa-text" data-role="qa-answer"></div>
              </div>
            </div>

          </div>

        </div>
      </div>

    </div>
  </section>

  <script>
    (function () {
      function setupGallery(root) {
        const img = root.querySelector('img[data-role="scene"]');
        const btns = Array.from(root.querySelectorAll('.scene-switcher .button'));
        const qEl = root.querySelector('[data-role="qa-question"]');
        const aEl = root.querySelector('[data-role="qa-answer"]');
        const toggleBtn = root.querySelector('.qa-toggle-btn');
        const answerBlock = root.querySelector('[data-role="qa-answer-block"]');

        if (!img || !btns.length || !qEl || !aEl || !toggleBtn || !answerBlock) return;

        function setActive(btn, opts = {}) {
          const src = btn.dataset.src;
          if (!src) return;

          btns.forEach(b => b.classList.toggle('is-active', b === btn));

          if (img.getAttribute('src') !== src) {
            img.style.opacity = 0;
            const pre = new Image();
            pre.onload = () => {
              img.src = src;
              img.alt = btn.textContent.trim() || img.alt;
              (img.decode ? img.decode() : Promise.resolve())
                .catch(() => {})
                .finally(() => {
                  img.style.transition = 'opacity .2s ease';
                  img.style.opacity = 1;
                });
            };
            pre.src = src;
          } else {
            img.alt = btn.textContent.trim() || img.alt;
          }

          qEl.textContent = btn.dataset.question || '';
          aEl.textContent = btn.dataset.answer || '';

          answerBlock.style.display = 'none';
          toggleBtn.textContent = 'Show answer';

          img.setAttribute('fetchpriority', opts.initial ? 'high' : 'auto');
        }

        btns.forEach((b, idx) => {
          b.addEventListener('click', () => setActive(b));
          b.addEventListener('mouseenter', () => {
            const s = b.dataset.src;
            if (s) {
              const i = new Image();
              i.src = s;
            }
          });
          b.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              setActive(b);
            }
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
              e.preventDefault();
              const next = e.key === 'ArrowLeft'
                ? (idx - 1 + btns.length) % btns.length
                : (idx + 1) % btns.length;
              btns[next].focus();
            }
          });
        });

        toggleBtn.addEventListener('click', () => {
          const visible = answerBlock.style.display === 'block';
          answerBlock.style.display = visible ? 'none' : 'block';
          toggleBtn.textContent = visible ? 'Show answer' : 'Hide answer';
        });

        const initBtn = root.querySelector('.scene-switcher .button.is-active') || btns[0];
        if (initBtn) setActive(initBtn, { initial: true });
      }

      document.querySelectorAll('.scene-gallery').forEach(setupGallery);
    })();
  </script>
</body>
</html>
